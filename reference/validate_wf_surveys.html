<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Validate Wild Fishing Survey Data — validate_wf_surveys • peskas.zanzibar.data.pipeline</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/Fira_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Alegreya_Sans_SC-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate Wild Fishing Survey Data — validate_wf_surveys"><meta name="description" content="Validates survey data from wild fishing activities by applying quality control checks
and flagging potential data issues. The function filters out submissions that don't
meet validation criteria and processes catch data."><meta property="og:description" content="Validates survey data from wild fishing activities by applying quality control checks
and flagging potential data issues. The function filters out submissions that don't
meet validation criteria and processes catch data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">peskas.zanzibar.data.pipeline</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Validate Wild Fishing Survey Data</h1>

      <div class="d-none name"><code>validate_wf_surveys.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Validates survey data from wild fishing activities by applying quality control checks
and flagging potential data issues. The function filters out submissions that don't
meet validation criteria and processes catch data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">validate_wf_surveys</span><span class="op">(</span>log_threshold <span class="op">=</span> <span class="fu">logger</span><span class="fu">::</span><span class="va"><a href="https://daroczig.github.io/logger/reference/log_levels.html" class="external-link">DEBUG</a></span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-log-threshold">log_threshold<a class="anchor" aria-label="anchor" href="#arg-log-threshold"></a></dt>
<dd><p>The logging level threshold for the logger package (e.g., DEBUG, INFO)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function processes and uploads two datasets to cloud storage:</p><ol><li><p>Validation flags for each submission</p></li>
<li><p>Validated survey data with invalid submissions removed</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function applies the following validation checks:</p><ol><li><p>Bucket weight validation (max 50 kg per bucket)</p></li>
<li><p>Number of buckets validation (max 300 buckets)</p></li>
<li><p>Number of individuals validation (max 100 individuals)</p></li>
<li><p>Form completeness check for catch details</p></li>
<li><p>Catch information completeness check</p></li>
</ol><p>Alert codes:</p><ul><li><p>5: Bucket weight exceeds maximum</p></li>
<li><p>6: Number of buckets exceeds maximum</p></li>
<li><p>7: Number of individuals exceeds maximum</p></li>
<li><p>8: Incomplete catch form</p></li>
<li><p>9: Incomplete catch information</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>

<ul><li><p>Requires configuration parameters to be set up in config file</p></li>
<li><p>Automatically downloads preprocessed survey data from cloud storage</p></li>
<li><p>Removes submissions that fail validation checks</p></li>
<li><p>Sets catch_kg to 0 when catch_outcome is 0</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="data-processing-steps">Data Processing Steps<a class="anchor" aria-label="anchor" href="#data-processing-steps"></a></h2>


<ol><li><p>Downloads preprocessed survey data</p></li>
<li><p>Applies validation checks and generates alert flags</p></li>
<li><p>Filters out submissions with validation alerts</p></li>
<li><p>Processes catch data and adjusts catch weights</p></li>
<li><p>Uploads validation flags and validated data to cloud storage</p></li>
</ol></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lorenzo Longobardi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

