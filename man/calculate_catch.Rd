% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-taxa.R
\name{calculate_catch}
\alias{calculate_catch}
\title{Calculate Catch Weight from Length-Weight Relationships or Bucket Measurements}
\usage{
calculate_catch(catch_data = NULL, lwcoeffs = NULL)
}
\arguments{
\item{catch_data}{A data frame containing catch information with columns:
\itemize{
\item submission_id - Unique identifier for the catch
\item n_catch - Number of catch events
\item catch_taxon - FAO 3-alpha code
\item individuals - Number of individuals (for length-based calculations)
\item length - Length measurement in cm
\item n_buckets - Number of buckets
\item weight_bucket - Weight per bucket in kg
}}

\item{lwcoeffs}{A data frame containing length-weight coefficients with columns:
\itemize{
\item catch_taxon - FAO 3-alpha code
\item a_75 - 75th percentile of parameter 'a'
\item b_75 - 75th percentile of parameter 'b'
}}
}
\value{
A tibble with the following columns:
\itemize{
\item submission_id - Unique identifier for the catch
\item n_catch - Number of catch events
\item catch_taxon - FAO 3-alpha code
\item individuals - Number of individuals
\item length - Length measurement in cm
\item n_buckets - Number of buckets
\item weight_bucket - Weight per bucket in kg
\item catch_kg - Total catch weight in kg
}
}
\description{
Calculates total catch weight using either length-weight relationships or bucket measurements.
The function prioritizes length-based calculations when available, falling back to bucket-based
measurements when length data is missing.
}
\details{
The function calculates catch weight using two methods:
\enumerate{
\item Length-based calculation: W = a * L^b * N / 1000
Where:
\itemize{
\item W is total weight in kg
\item a and b are length-weight relationship coefficients (75th percentile)
\item L is length in cm
\item N is number of individuals
}
\item Bucket-based calculation: W = n_buckets * weight_bucket
Where:
\itemize{
\item W is total weight in kg
\item n_buckets is number of buckets
\item weight_bucket is weight per bucket in kg
}
}

The final catch_kg uses length-based calculation when available,
falling back to bucket-based calculation when length data is missing.
}
\note{
\itemize{
\item Length-based calculations use 75th percentile of length-weight coefficients
\item All weights are returned in kilograms
\item NA values are returned when neither calculation method is possible
}
}
\examples{
\dontrun{
# Calculate catch weights
catch_weights <- calculate_catch(
  catch_data = catch_data,
  lwcoeffs = length_weight_coeffs
)
}

}
\keyword{mining}
