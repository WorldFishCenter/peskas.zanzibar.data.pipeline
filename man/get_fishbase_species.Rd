% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-taxa.R
\name{get_fishbase_species}
\alias{get_fishbase_species}
\title{Get FishBase Species for FAO 3-Alpha Codes}
\usage{
get_fishbase_species(fao_data = NULL, database_server = "fishbase")
}
\arguments{
\item{fao_data}{A data frame containing FAO 3-alpha codes and taxonomic information with columns:
\itemize{
\item a3_code - FAO 3-alpha code
\item scientific_name - Scientific name (can include "spp" or "nei" suffixes)
\item family - Family name (can be NA)
\item order - Order name (can be NA)
}}

\item{database_server}{A character string specifying which database to use ("fishbase" or "sealifebase")}
}
\value{
A named list where:
\itemize{
\item Names are FAO 3-alpha codes
\item Values are vectors of FishBase species
\item Empty vectors (integer(0)) indicate no matches found
}
}
\description{
Retrieves all FishBase species associated with FAO 3-alpha codes.
The function processes each taxonomic level (species, genus, family, order) and returns
a complete list of associated species for each FAO code.
}
\details{
The function implements a hierarchical search strategy:
\enumerate{
\item Tries exact species match if scientific name contains two words
\item Tries genus level match
\item Tries family level match if family name is available
\item Tries order level match if order name is available
}

Performance optimizations include:
\itemize{
\item Caching of API results to avoid redundant calls
\item Requesting only Species field to minimize data transfer
\item Batch processing of species lookups
}
}
\note{
\itemize{
\item Requires the rfishbase package
\item Internet connection needed for FishBase API queries
\item Performance depends on API response times and number of species in each group
}
}
\examples{
# Example data frame
fao_data <- data.frame(
  a3_code = c("TUN", "RAG"),
  scientific_name = c("Thunnini", "Rastrelliger kanagurta"),
  family = c("SCOMBRIDAE", "SCOMBRIDAE"),
  order = c("PERCIFORMES", "PERCIFORMES")
)

# Get species
speccodes <- get_fishbase_species(fao_data)

# Check number of species for each code
sapply(speccodes, length)

}
\seealso{
\code{\link[rfishbase]{species}}, \code{\link[rfishbase]{species_list}}
}
\keyword{mining}
