% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-fishery.R
\name{calculate_district_totals}
\alias{calculate_district_totals}
\title{Calculate District-Level Total Catch and Revenue}
\usage{
calculate_district_totals(fleet_estimates, monthly_summaries)
}
\arguments{
\item{fleet_estimates}{Data frame from \code{estimate_fleet_activity()} containing:
\itemize{
\item district: District name
\item date_month: Month as date
\item estimated_total_trips: Estimated trips for entire fleet
\item sampling_rate: Proportion of fleet tracked
\item Other fleet statistics
}}

\item{monthly_summaries}{Data frame with catch/revenue data containing:
\itemize{
\item district: District name (must match fleet_estimates)
\item date: Month as date (will be matched to date_month)
\item metric: Metric name (filtered for mean_catch_kg and mean_catch_price)
\item value: Metric value
}}
}
\value{
A data frame with district-level totals:
\itemize{
\item district: District name
\item date_month: Month as date
\item sample_total_trips: Trips from tracked boats
\item estimated_total_trips: Estimated trips for entire fleet
\item sampling_rate: Proportion of fleet tracked
\item mean_catch_kg: Average catch per trip
\item mean_catch_price: Average revenue per trip
\item estimated_total_catch_kg: Estimated total catch for district
\item estimated_total_revenue: Estimated total revenue for district
}
}
\description{
Combines fleet activity estimates with catch and revenue data to calculate
total catch and revenue by district and month. Uses fleet-wide trip estimates
to scale up from sample-based averages.
}
\details{
This function merges fleet activity data with monthly catch/revenue summaries
to estimate total district-level fishing production. The calculations are:
\itemize{
\item Total catch = mean catch per trip × estimated total trips
\item Total revenue = mean revenue per trip × estimated total trips
}

Only districts with catch data are included in the results.
}
\examples{
\dontrun{
# Calculate the full pipeline
monthly_stats <- calculate_monthly_trip_stats(trips_data)
fleet_estimates <- estimate_fleet_activity(monthly_stats, boat_registry)
district_totals <- calculate_district_totals(fleet_estimates, monthly_summaries)

# View total catch by district
district_totals |>
  dplyr::group_by(district) |>
  dplyr::summarise(total_annual_catch = sum(estimated_total_catch_kg, na.rm = TRUE))
}

}
\seealso{
\itemize{
\item \code{\link[=calculate_monthly_trip_stats]{calculate_monthly_trip_stats()}} for trip statistics
\item \code{\link[=estimate_fleet_activity]{estimate_fleet_activity()}} for fleet-wide estimates
}
}
\keyword{analysis}
\keyword{workflow}
