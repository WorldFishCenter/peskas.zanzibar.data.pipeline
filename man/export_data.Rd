% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R
\name{export_data}
\alias{export_data}
\title{Export Processed Fisheries Data to MongoDB}
\usage{
export_data(log_threshold = logger::DEBUG)
}
\arguments{
\item{log_threshold}{The logging level threshold for the logger package (e.g., DEBUG, INFO)
See \code{logger::log_levels} for available options.}
}
\value{
None (invisible). The function performs its operations for side effects:
\itemize{
\item Processes survey data into summary metrics
\item Uploads results to MongoDB collections
\item Generates logs of the process
}
}
\description{
Processes validated survey data to generate summary metrics and exports them to MongoDB collections.
The function calculates three main types of metrics:
\enumerate{
\item Monthly CPUE and RPUE metrics by landing site
\item Gear-specific metrics by landing site and habitat
\item Taxa proportions by landing site
}
}
\details{
The function performs the following operations:
\itemize{
\item Filters out landing sites with >75\% missing CPUE data
\item Calculates monthly median CPUE and RPUE values
\item Processes gear-specific metrics, excluding gears with spaces in names and "other" category
\item Computes taxa proportions, grouping taxa with <5\% representation as "Others"
\item Uploads processed data to specified MongoDB collections
}

The metrics calculated include:
\itemize{
\item CPUE (Catch Per Unit Effort)
\item RPUE (Revenue Per Unit Effort)
\item Catch proportions by taxa
}

Exported collections:
\itemize{
\item Monthly metrics: Time series of CPUE and RPUE by landing site
\item Gear metrics: CPUE and RPUE by gear type, habitat, and landing site
\item Taxa proportions: Percentage contribution of each taxa to total catch by landing site
}
}
\examples{
\dontrun{
# Export data with default debug logging
export_data()

# Export with info-level logging only
export_data(logger::INFO)
}

}
\seealso{
\itemize{
\item \code{\link[=get_validated_surveys]{get_validated_surveys()}} for details on the input data format
\item \code{\link[=mdb_collection_push]{mdb_collection_push()}} for details on the MongoDB upload process
\item \code{\link[=expand_taxa]{expand_taxa()}} for details on taxa classification
}
}
\keyword{database}
\keyword{export}
\keyword{metrics}
