% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-fishery.R
\name{process_trip_data}
\alias{process_trip_data}
\title{Process Trip Data with District Information}
\usage{
process_trip_data(conf = NULL, devices_table = NULL, imei_list = NULL)
}
\arguments{
\item{conf}{Configuration parameters containing:
\itemize{
\item pds$token: API token for PDS access
\item pds$secret: API secret for PDS access
}}

\item{devices_table}{Data frame containing device metadata with at minimum
an \code{imei} column. Used to join district information to trips.}

\item{imei_list}{Vector of IMEI numbers for devices to retrieve trip data for}
}
\value{
A processed data frame with:
\itemize{
\item district: District name (from community metadata)
\item community: Community name
\item trip: Trip identifier
\item boat: Boat identifier
\item landing_date: Date of trip landing
\item date_month: First day of landing month
\item duration_hrs: Trip duration in hours
}
}
\description{
Retrieves and processes trip data from the PDS API by adding district information
from community metadata. Filters out unrealistic trips longer than 48 hours to
remove outliers and prepares data for monthly statistics calculation.
}
\details{
The function:
\itemize{
\item Calls \code{get_trips()} API to retrieve trip data for specified IMEIs
\item Converts timestamps to landing dates and monthly periods
\item Calculates trip duration in hours from seconds
\item Joins with community metadata to add district information
\item Filters out unrealistic trips (>48 hours)
\item Standardizes column names and structure
}
}
\examples{
\dontrun{
# Process trip data with parameters and device list
conf <- read_config()
trips_stats <- process_trip_data(
  conf = conf,
  imei_list = imei_list
)

# Check data structure
str(trips_stats)
}

}
\seealso{
\itemize{
\item \code{\link[=calculate_monthly_trip_stats]{calculate_monthly_trip_stats()}} for using processed trip data
\item \code{\link[=get_trips]{get_trips()}} for the underlying API call
\item \code{\link[=get_metadata]{get_metadata()}} for community metadata retrieval
}
}
\keyword{preprocessing}
\keyword{workflow}
