% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R
\name{export_wf_data}
\alias{export_wf_data}
\title{Export WorldFish Summary Data to MongoDB}
\usage{
export_wf_data(log_threshold = logger::DEBUG)
}
\arguments{
\item{log_threshold}{The logging level threshold for the logger package (e.g., DEBUG, INFO)
See \code{logger::log_levels} for available options.}
}
\value{
NULL (invisible). The function uploads data to MongoDB as a side effect.
}
\description{
Downloads previously summarized WorldFish survey data from cloud storage, incorporates
modeled aggregated estimates, and exports everything to MongoDB collections for use
in data portals. The function also generates geographic regional summaries.
}
\details{
The function performs the following operations:
\itemize{
\item Downloads five summary datasets from cloud storage:
\itemize{
\item Monthly summaries: Aggregated catch metrics by district and month
\item Taxa summaries: Species-specific metrics in long format
\item Districts summaries: District-level indicators over time
\item Gear summaries: Performance metrics by gear type
\item Grid summaries: Spatial grid data from vessel tracking
}
\item Downloads aggregated catch estimates from the modeling step
\item Creates geographic regional summaries using the monthly data
\item Joins aggregated estimates (fishing trips, catch tonnage, revenue) to monthly summaries
\item Transforms monthly summaries to long format for portal consumption
\item Uploads all datasets to specified MongoDB collections
}

The function expects the summary files to be named with the pattern:
\verb{\{file_prefix\}_\{table_name\}.parquet} where table_name is one of:
monthly_summaries, taxa_summaries, districts_summaries, gear_summaries, grid_summaries
}
\examples{
\dontrun{
# Export WF summary data with default debug logging
export_wf_data()

# Export with info-level logging only
export_wf_data(logger::INFO)
}

}
\seealso{
\itemize{
\item \code{\link[=summarize_data]{summarize_data()}} for generating the summary datasets
\item \code{\link[coasts:download_parquet_from_cloud]{coasts::download_parquet_from_cloud()}} for retrieving data from cloud storage
\item \code{\link[coasts:mdb_collection_push]{coasts::mdb_collection_push()}} for uploading data to MongoDB
}
}
\keyword{export}
\keyword{workflow}
