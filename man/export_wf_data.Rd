% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export.R
\name{export_wf_data}
\alias{export_wf_data}
\title{Export WorldFish Survey Data}
\usage{
export_wf_data(log_threshold = logger::DEBUG)
}
\arguments{
\item{log_threshold}{The logging level threshold for the logger package (e.g., DEBUG, INFO)
See \code{logger::log_levels} for available options.}
}
\value{
Two data frames (invisible):
\itemize{
\item indicators_df: Aggregated catch metrics by submission
\item taxa_df: Species-specific catch information
}
}
\description{
Processes validated survey data from WorldFish sources, filtering out flagged submissions
and generating two key datasets:
\enumerate{
\item Indicators dataset with aggregated catch metrics
\item Taxa dataset with species-specific catch information
}
}
\details{
The function performs the following operations:
\itemize{
\item Retrieves validated WF survey data
\item Pulls submission flags from MongoDB
\item Filters out submissions with alert flags
\item For the indicators dataset:
\itemize{
\item Aggregates catch data by submission
\item Calculates price per kg, CPUE, and RPUE metrics
}
\item For the taxa dataset:
\itemize{
\item Preserves taxonomic information
\item Calculates catch metrics by species
}
}

The metrics calculated include:
\itemize{
\item Total catch weight per submission
\item Price per kg of catch
\item CPUE (Catch Per Unit Effort)
\item RPUE (Revenue Per Unit Effort)
}
}
\examples{
\dontrun{
# Export WF data with default debug logging
export_wf_data()

# Export with info-level logging only
export_wf_data(logger::INFO)
}

}
\seealso{
\itemize{
\item \code{\link[=get_validated_surveys]{get_validated_surveys()}} for details on the input data format
\item \code{\link[=mdb_collection_pull]{mdb_collection_pull()}} for retrieving flag information
\item \code{\link[=export_data]{export_data()}} for the more comprehensive export function
}
}
\keyword{export}
\keyword{workflow}
